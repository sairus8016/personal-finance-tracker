{"ast":null,"code":"import { createAnatomy } from '@zag-js/anatomy';\nimport { raf, addDomEvent, getWindow, contains, getEventTarget, dataAttr, visuallyHiddenStyle } from '@zag-js/dom-query';\nimport { getAcceptAttrString, isFileEqual, isValidFileType, isValidFileSize, getFileEntries } from '@zag-js/file-utils';\nimport { formatBytes } from '@zag-js/i18n-utils';\nimport { createProps } from '@zag-js/types';\nimport { warn, callAll, createSplitProps, flatArray } from '@zag-js/utils';\nimport { createMachine } from '@zag-js/core';\n\n// src/file-upload.anatomy.ts\nvar anatomy = createAnatomy(\"file-upload\").parts(\"root\", \"dropzone\", \"item\", \"itemDeleteTrigger\", \"itemGroup\", \"itemName\", \"itemPreview\", \"itemPreviewImage\", \"itemSizeText\", \"label\", \"trigger\", \"clearTrigger\");\nvar parts = anatomy.build();\n\n// src/file-upload.dom.ts\nvar getRootId = ctx => ctx.ids?.root ?? `file:${ctx.id}`;\nvar getDropzoneId = ctx => ctx.ids?.dropzone ?? `file:${ctx.id}:dropzone`;\nvar getHiddenInputId = ctx => ctx.ids?.hiddenInput ?? `file:${ctx.id}:input`;\nvar getTriggerId = ctx => ctx.ids?.trigger ?? `file:${ctx.id}:trigger`;\nvar getLabelId = ctx => ctx.ids?.label ?? `file:${ctx.id}:label`;\nvar getItemId = (ctx, id) => ctx.ids?.item?.(id) ?? `file:${ctx.id}:item:${id}`;\nvar getItemNameId = (ctx, id) => ctx.ids?.itemName?.(id) ?? `file:${ctx.id}:item-name:${id}`;\nvar getItemSizeTextId = (ctx, id) => ctx.ids?.itemSizeText?.(id) ?? `file:${ctx.id}:item-size:${id}`;\nvar getItemPreviewId = (ctx, id) => ctx.ids?.itemPreview?.(id) ?? `file:${ctx.id}:item-preview:${id}`;\nvar getRootEl = ctx => ctx.getById(getRootId(ctx));\nvar getHiddenInputEl = ctx => ctx.getById(getHiddenInputId(ctx));\nvar getDropzoneEl = ctx => ctx.getById(getDropzoneId(ctx));\nfunction isEventWithFiles(event) {\n  const target = getEventTarget(event);\n  if (!event.dataTransfer) return !!target && \"files\" in target;\n  return event.dataTransfer.types.some(type => {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nfunction isFilesWithinRange(ctx, incomingCount, currentAcceptedFiles) {\n  const {\n    prop,\n    computed\n  } = ctx;\n  if (!computed(\"multiple\") && incomingCount > 1) return false;\n  if (!computed(\"multiple\") && incomingCount + currentAcceptedFiles.length === 2) return true;\n  if (incomingCount + currentAcceptedFiles.length > prop(\"maxFiles\")) return false;\n  return true;\n}\nfunction getEventFiles(ctx, files, currentAcceptedFiles = [], currentRejectedFiles = []) {\n  const {\n    prop,\n    computed\n  } = ctx;\n  const acceptedFiles = [];\n  const rejectedFiles = [];\n  const validateParams = {\n    acceptedFiles: currentAcceptedFiles,\n    rejectedFiles: currentRejectedFiles\n  };\n  files.forEach(file => {\n    const [accepted, acceptError] = isValidFileType(file, computed(\"acceptAttr\"));\n    const [sizeMatch, sizeError] = isValidFileSize(file, prop(\"minFileSize\"), prop(\"maxFileSize\"));\n    const validateErrors = prop(\"validate\")?.(file, validateParams);\n    const valid = validateErrors ? validateErrors.length === 0 : true;\n    if (accepted && sizeMatch && valid) {\n      acceptedFiles.push(file);\n    } else {\n      const errors = [acceptError, sizeError];\n      if (!valid) errors.push(...(validateErrors ?? []));\n      rejectedFiles.push({\n        file,\n        errors: errors.filter(Boolean)\n      });\n    }\n  });\n  if (!isFilesWithinRange(ctx, acceptedFiles.length, currentAcceptedFiles)) {\n    acceptedFiles.forEach(file => {\n      rejectedFiles.push({\n        file,\n        errors: [\"TOO_MANY_FILES\"]\n      });\n    });\n    acceptedFiles.splice(0);\n  }\n  return {\n    acceptedFiles,\n    rejectedFiles\n  };\n}\nfunction setInputFiles(inputEl, files) {\n  const win = getWindow(inputEl);\n  try {\n    if (\"DataTransfer\" in win) {\n      const dataTransfer = new win.DataTransfer();\n      files.forEach(file => {\n        dataTransfer.items.add(file);\n      });\n      inputEl.files = dataTransfer.files;\n    }\n  } catch {}\n}\n\n// src/file-upload.connect.ts\nvar DEFAULT_ITEM_TYPE = \"accepted\";\nfunction connect(service, normalize) {\n  const {\n    state,\n    send,\n    prop,\n    computed,\n    scope,\n    context\n  } = service;\n  const disabled = !!prop(\"disabled\");\n  const required = !!prop(\"required\");\n  const allowDrop = prop(\"allowDrop\");\n  const translations = prop(\"translations\");\n  const dragging = state.matches(\"dragging\");\n  const focused = state.matches(\"focused\") && !disabled;\n  return {\n    dragging,\n    focused,\n    disabled: !!disabled,\n    transforming: context.get(\"transforming\"),\n    openFilePicker() {\n      if (disabled) return;\n      send({\n        type: \"OPEN\"\n      });\n    },\n    deleteFile(file, type = DEFAULT_ITEM_TYPE) {\n      send({\n        type: \"FILE.DELETE\",\n        file,\n        itemType: type\n      });\n    },\n    acceptedFiles: context.get(\"acceptedFiles\"),\n    rejectedFiles: context.get(\"rejectedFiles\"),\n    setFiles(files) {\n      send({\n        type: \"FILES.SET\",\n        files,\n        count: files.length\n      });\n    },\n    clearRejectedFiles() {\n      send({\n        type: \"REJECTED_FILES.CLEAR\"\n      });\n    },\n    clearFiles() {\n      send({\n        type: \"FILES.CLEAR\"\n      });\n    },\n    getFileSize(file) {\n      return formatBytes(file.size, prop(\"locale\"));\n    },\n    createFileUrl(file, cb) {\n      const win = scope.getWin();\n      const url = win.URL.createObjectURL(file);\n      cb(url);\n      return () => win.URL.revokeObjectURL(url);\n    },\n    setClipboardFiles(dt) {\n      if (disabled) return false;\n      const items = Array.from(dt?.items ?? []);\n      const files = items.reduce((acc, item) => {\n        if (item.kind !== \"file\") return acc;\n        const file = item.getAsFile();\n        if (!file) return acc;\n        return [...acc, file];\n      }, []);\n      if (!files.length) return false;\n      send({\n        type: \"FILES.SET\",\n        files\n      });\n      return true;\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        id: getRootId(scope),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging)\n      });\n    },\n    getDropzoneProps(props2 = {}) {\n      return normalize.element({\n        ...parts.dropzone.attrs,\n        dir: prop(\"dir\"),\n        id: getDropzoneId(scope),\n        tabIndex: disabled || props2.disableClick ? void 0 : 0,\n        role: props2.disableClick ? \"application\" : \"button\",\n        \"aria-label\": translations.dropzone,\n        \"aria-disabled\": disabled,\n        \"data-invalid\": dataAttr(prop(\"invalid\")),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging),\n        onKeyDown(event) {\n          if (disabled) return;\n          if (event.defaultPrevented) return;\n          if (event.currentTarget !== getEventTarget(event)) return;\n          if (props2.disableClick) return;\n          if (event.key !== \"Enter\" && event.key !== \" \") return;\n          send({\n            type: \"DROPZONE.CLICK\",\n            src: \"keydown\"\n          });\n        },\n        onClick(event) {\n          if (disabled) return;\n          if (event.defaultPrevented) return;\n          if (props2.disableClick) return;\n          if (event.currentTarget !== getEventTarget(event)) return;\n          if (event.currentTarget.localName === \"label\") {\n            event.preventDefault();\n          }\n          send({\n            type: \"DROPZONE.CLICK\"\n          });\n        },\n        onDragOver(event) {\n          if (disabled) return;\n          if (!allowDrop) return;\n          event.preventDefault();\n          event.stopPropagation();\n          try {\n            event.dataTransfer.dropEffect = \"copy\";\n          } catch {}\n          const hasFiles = isEventWithFiles(event);\n          if (!hasFiles) return;\n          const count = event.dataTransfer.items.length;\n          send({\n            type: \"DROPZONE.DRAG_OVER\",\n            count\n          });\n        },\n        onDragLeave(event) {\n          if (disabled) return;\n          if (!allowDrop) return;\n          if (contains(event.currentTarget, event.relatedTarget)) return;\n          send({\n            type: \"DROPZONE.DRAG_LEAVE\"\n          });\n        },\n        onDrop(event) {\n          if (disabled) return;\n          if (allowDrop) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n          const hasFiles = isEventWithFiles(event);\n          if (disabled || !hasFiles) return;\n          getFileEntries(event.dataTransfer.items, prop(\"directory\")).then(files => {\n            send({\n              type: \"DROPZONE.DROP\",\n              files: flatArray(files)\n            });\n          });\n        },\n        onFocus() {\n          if (disabled) return;\n          send({\n            type: \"DROPZONE.FOCUS\"\n          });\n        },\n        onBlur() {\n          if (disabled) return;\n          send({\n            type: \"DROPZONE.BLUR\"\n          });\n        }\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: prop(\"dir\"),\n        id: getTriggerId(scope),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(prop(\"invalid\")),\n        type: \"button\",\n        onClick(event) {\n          if (disabled) return;\n          if (contains(getDropzoneEl(scope), event.currentTarget)) {\n            event.stopPropagation();\n          }\n          send({\n            type: \"OPEN\"\n          });\n        }\n      });\n    },\n    getHiddenInputProps() {\n      return normalize.input({\n        id: getHiddenInputId(scope),\n        tabIndex: -1,\n        disabled,\n        type: \"file\",\n        required: prop(\"required\"),\n        capture: prop(\"capture\"),\n        name: prop(\"name\"),\n        accept: computed(\"acceptAttr\"),\n        webkitdirectory: prop(\"directory\") ? \"\" : void 0,\n        multiple: computed(\"multiple\") || prop(\"maxFiles\") > 1,\n        onClick(event) {\n          event.stopPropagation();\n          event.currentTarget.value = \"\";\n        },\n        onInput(event) {\n          if (disabled) return;\n          const {\n            files\n          } = event.currentTarget;\n          send({\n            type: \"FILE.SELECT\",\n            files: files ? Array.from(files) : []\n          });\n        },\n        style: visuallyHiddenStyle\n      });\n    },\n    getItemGroupProps(props2 = {}) {\n      const {\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemProps(props2) {\n      const {\n        file,\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: prop(\"dir\"),\n        id: getItemId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemNameProps(props2) {\n      const {\n        file,\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      return normalize.element({\n        ...parts.itemName.attrs,\n        dir: prop(\"dir\"),\n        id: getItemNameId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemSizeTextProps(props2) {\n      const {\n        file,\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      return normalize.element({\n        ...parts.itemSizeText.attrs,\n        dir: prop(\"dir\"),\n        id: getItemSizeTextId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemPreviewProps(props2) {\n      const {\n        file,\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        dir: prop(\"dir\"),\n        id: getItemPreviewId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemPreviewImageProps(props2) {\n      const {\n        file,\n        url,\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      const isImage = file.type.startsWith(\"image/\");\n      if (!isImage) {\n        throw new Error(\"Preview Image is only supported for image files\");\n      }\n      return normalize.img({\n        ...parts.itemPreviewImage.attrs,\n        alt: translations.itemPreview?.(file),\n        src: url,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemDeleteTriggerProps(props2) {\n      const {\n        file,\n        type = DEFAULT_ITEM_TYPE\n      } = props2;\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type,\n        \"aria-label\": translations.deleteFile?.(file),\n        onClick() {\n          if (disabled) return;\n          send({\n            type: \"FILE.DELETE\",\n            file,\n            itemType: type\n          });\n        }\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: prop(\"dir\"),\n        id: getLabelId(scope),\n        htmlFor: getHiddenInputId(scope),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-required\": dataAttr(required)\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        disabled,\n        hidden: context.get(\"acceptedFiles\").length === 0,\n        \"data-disabled\": dataAttr(disabled),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          send({\n            type: \"FILES.CLEAR\"\n          });\n        }\n      });\n    }\n  };\n}\nvar machine = createMachine({\n  props({\n    props: props2\n  }) {\n    return {\n      minFileSize: 0,\n      maxFileSize: Number.POSITIVE_INFINITY,\n      maxFiles: 1,\n      allowDrop: true,\n      preventDocumentDrop: true,\n      defaultAcceptedFiles: [],\n      ...props2,\n      translations: {\n        dropzone: \"dropzone\",\n        itemPreview: file => `preview of ${file.name}`,\n        deleteFile: file => `delete file ${file.name}`,\n        ...props2.translations\n      }\n    };\n  },\n  initialState() {\n    return \"idle\";\n  },\n  context({\n    prop,\n    bindable,\n    getContext\n  }) {\n    return {\n      acceptedFiles: bindable(() => ({\n        defaultValue: prop(\"defaultAcceptedFiles\"),\n        value: prop(\"acceptedFiles\"),\n        isEqual: (a, b) => a.length === b?.length && a.every((file, i) => isFileEqual(file, b[i])),\n        hash(value) {\n          return value.map(file => `${file.name}-${file.size}`).join(\",\");\n        },\n        onChange(value) {\n          const ctx = getContext();\n          prop(\"onFileAccept\")?.({\n            files: value\n          });\n          prop(\"onFileChange\")?.({\n            acceptedFiles: value,\n            rejectedFiles: ctx.get(\"rejectedFiles\")\n          });\n        }\n      })),\n      rejectedFiles: bindable(() => ({\n        defaultValue: [],\n        isEqual: (a, b) => a.length === b?.length && a.every((file, i) => isFileEqual(file.file, b[i].file)),\n        onChange(value) {\n          const ctx = getContext();\n          prop(\"onFileReject\")?.({\n            files: value\n          });\n          prop(\"onFileChange\")?.({\n            acceptedFiles: ctx.get(\"acceptedFiles\"),\n            rejectedFiles: value\n          });\n        }\n      })),\n      transforming: bindable(() => ({\n        defaultValue: false\n      }))\n    };\n  },\n  computed: {\n    acceptAttr: ({\n      prop\n    }) => getAcceptAttrString(prop(\"accept\")),\n    multiple: ({\n      prop\n    }) => prop(\"maxFiles\") > 1\n  },\n  watch({\n    track,\n    context,\n    action\n  }) {\n    track([() => context.hash(\"acceptedFiles\")], () => {\n      action([\"syncInputElement\"]);\n    });\n  },\n  on: {\n    \"FILES.SET\": {\n      actions: [\"setFiles\"]\n    },\n    \"FILE.SELECT\": {\n      actions: [\"setEventFiles\"]\n    },\n    \"FILE.DELETE\": {\n      actions: [\"removeFile\"]\n    },\n    \"FILES.CLEAR\": {\n      actions: [\"clearFiles\"]\n    },\n    \"REJECTED_FILES.CLEAR\": {\n      actions: [\"clearRejectedFiles\"]\n    }\n  },\n  effects: [\"preventDocumentDrop\"],\n  states: {\n    idle: {\n      on: {\n        OPEN: {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.CLICK\": {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.FOCUS\": {\n          target: \"focused\"\n        },\n        \"DROPZONE.DRAG_OVER\": {\n          target: \"dragging\"\n        }\n      }\n    },\n    focused: {\n      on: {\n        \"DROPZONE.BLUR\": {\n          target: \"idle\"\n        },\n        OPEN: {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.CLICK\": {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.DRAG_OVER\": {\n          target: \"dragging\"\n        }\n      }\n    },\n    dragging: {\n      on: {\n        \"DROPZONE.DROP\": {\n          target: \"idle\",\n          actions: [\"setEventFiles\"]\n        },\n        \"DROPZONE.DRAG_LEAVE\": {\n          target: \"idle\"\n        }\n      }\n    }\n  },\n  implementations: {\n    effects: {\n      preventDocumentDrop({\n        prop,\n        scope\n      }) {\n        if (!prop(\"preventDocumentDrop\")) return;\n        if (!prop(\"allowDrop\")) return;\n        if (prop(\"disabled\")) return;\n        const doc = scope.getDoc();\n        const onDragOver = event => {\n          event?.preventDefault();\n        };\n        const onDrop = event => {\n          if (contains(getRootEl(scope), getEventTarget(event))) return;\n          event.preventDefault();\n        };\n        return callAll(addDomEvent(doc, \"dragover\", onDragOver, false), addDomEvent(doc, \"drop\", onDrop, false));\n      }\n    },\n    actions: {\n      syncInputElement({\n        scope,\n        context\n      }) {\n        queueMicrotask(() => {\n          const inputEl = getHiddenInputEl(scope);\n          if (!inputEl) return;\n          setInputFiles(inputEl, context.get(\"acceptedFiles\"));\n          const win = scope.getWin();\n          inputEl.dispatchEvent(new win.Event(\"change\", {\n            bubbles: true\n          }));\n        });\n      },\n      openFilePicker({\n        scope\n      }) {\n        raf(() => {\n          getHiddenInputEl(scope)?.click();\n        });\n      },\n      setFiles(params) {\n        const {\n          computed,\n          context,\n          event\n        } = params;\n        const {\n          acceptedFiles,\n          rejectedFiles\n        } = getEventFiles(params, event.files);\n        context.set(\"acceptedFiles\", computed(\"multiple\") ? acceptedFiles : acceptedFiles.length > 0 ? [acceptedFiles[0]] : []);\n        context.set(\"rejectedFiles\", rejectedFiles);\n      },\n      setEventFiles(params) {\n        const {\n          computed,\n          context,\n          event,\n          prop\n        } = params;\n        const currentAcceptedFiles = context.get(\"acceptedFiles\");\n        const currentRejectedFiles = context.get(\"rejectedFiles\");\n        const {\n          acceptedFiles,\n          rejectedFiles\n        } = getEventFiles(params, event.files, currentAcceptedFiles, currentRejectedFiles);\n        const set = files => {\n          if (computed(\"multiple\")) {\n            context.set(\"acceptedFiles\", prev => [...prev, ...files]);\n            context.set(\"rejectedFiles\", rejectedFiles);\n            return;\n          }\n          if (files.length) {\n            context.set(\"acceptedFiles\", [files[0]]);\n            context.set(\"rejectedFiles\", rejectedFiles);\n            return;\n          }\n          if (rejectedFiles.length) {\n            context.set(\"acceptedFiles\", context.get(\"acceptedFiles\"));\n            context.set(\"rejectedFiles\", rejectedFiles);\n          }\n        };\n        const transform = prop(\"transformFiles\");\n        if (transform) {\n          context.set(\"transforming\", true);\n          transform(acceptedFiles).then(set).catch(err => {\n            warn(`[zag-js/file-upload] error transforming files\n${err}`);\n          }).finally(() => {\n            context.set(\"transforming\", false);\n          });\n        } else {\n          set(acceptedFiles);\n        }\n      },\n      removeFile({\n        context,\n        event\n      }) {\n        if (event.itemType === \"rejected\") {\n          const rejectedFiles = context.get(\"rejectedFiles\").filter(item => !isFileEqual(item.file, event.file));\n          context.set(\"rejectedFiles\", rejectedFiles);\n        } else {\n          const files = context.get(\"acceptedFiles\").filter(file => !isFileEqual(file, event.file));\n          context.set(\"acceptedFiles\", files);\n        }\n      },\n      clearRejectedFiles({\n        context\n      }) {\n        context.set(\"rejectedFiles\", []);\n      },\n      clearFiles({\n        context\n      }) {\n        context.set(\"acceptedFiles\", []);\n        context.set(\"rejectedFiles\", []);\n      }\n    }\n  }\n});\nvar props = createProps()([\"accept\", \"acceptedFiles\", \"allowDrop\", \"capture\", \"defaultAcceptedFiles\", \"dir\", \"directory\", \"disabled\", \"getRootNode\", \"id\", \"ids\", \"invalid\", \"locale\", \"maxFiles\", \"maxFileSize\", \"minFileSize\", \"name\", \"onFileAccept\", \"onFileChange\", \"onFileReject\", \"preventDocumentDrop\", \"required\", \"transformFiles\", \"translations\", \"validate\"]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"file\", \"type\"]);\nvar splitItemProps = createSplitProps(itemProps);\nexport { anatomy, connect, itemProps, machine, props, splitItemProps, splitProps };","map":{"version":3,"names":["createAnatomy","raf","addDomEvent","getWindow","contains","getEventTarget","dataAttr","visuallyHiddenStyle","getAcceptAttrString","isFileEqual","isValidFileType","isValidFileSize","getFileEntries","formatBytes","createProps","warn","callAll","createSplitProps","flatArray","createMachine","anatomy","parts","build","getRootId","ctx","ids","root","id","getDropzoneId","dropzone","getHiddenInputId","hiddenInput","getTriggerId","trigger","getLabelId","label","getItemId","item","getItemNameId","itemName","getItemSizeTextId","itemSizeText","getItemPreviewId","itemPreview","getRootEl","getById","getHiddenInputEl","getDropzoneEl","isEventWithFiles","event","target","dataTransfer","types","some","type","isFilesWithinRange","incomingCount","currentAcceptedFiles","prop","computed","length","getEventFiles","files","currentRejectedFiles","acceptedFiles","rejectedFiles","validateParams","forEach","file","accepted","acceptError","sizeMatch","sizeError","validateErrors","valid","push","errors","filter","Boolean","splice","setInputFiles","inputEl","win","DataTransfer","items","add","DEFAULT_ITEM_TYPE","connect","service","normalize","state","send","scope","context","disabled","required","allowDrop","translations","dragging","matches","focused","transforming","get","openFilePicker","deleteFile","itemType","setFiles","count","clearRejectedFiles","clearFiles","getFileSize","size","createFileUrl","cb","getWin","url","URL","createObjectURL","revokeObjectURL","setClipboardFiles","dt","Array","from","reduce","acc","kind","getAsFile","getRootProps","element","attrs","dir","getDropzoneProps","props2","tabIndex","disableClick","role","onKeyDown","defaultPrevented","currentTarget","key","src","onClick","localName","preventDefault","onDragOver","stopPropagation","dropEffect","hasFiles","onDragLeave","relatedTarget","onDrop","then","onFocus","onBlur","getTriggerProps","button","getHiddenInputProps","input","capture","name","accept","webkitdirectory","multiple","value","onInput","style","getItemGroupProps","itemGroup","getItemProps","getItemNameProps","getItemSizeTextProps","getItemPreviewProps","getItemPreviewImageProps","isImage","startsWith","Error","img","itemPreviewImage","alt","getItemDeleteTriggerProps","itemDeleteTrigger","getLabelProps","htmlFor","getClearTriggerProps","clearTrigger","hidden","machine","props","minFileSize","maxFileSize","Number","POSITIVE_INFINITY","maxFiles","preventDocumentDrop","defaultAcceptedFiles","initialState","bindable","getContext","defaultValue","isEqual","a","b","every","i","hash","map","join","onChange","acceptAttr","watch","track","action","on","actions","effects","states","idle","OPEN","implementations","doc","getDoc","syncInputElement","queueMicrotask","dispatchEvent","Event","bubbles","click","params","set","setEventFiles","prev","transform","catch","err","finally","removeFile","splitProps","itemProps","splitItemProps"],"sources":["/Users/ameliamagick/personal-finance-tracker/node_modules/@zag-js/file-upload/dist/index.mjs"],"sourcesContent":["import { createAnatomy } from '@zag-js/anatomy';\nimport { raf, addDomEvent, getWindow, contains, getEventTarget, dataAttr, visuallyHiddenStyle } from '@zag-js/dom-query';\nimport { getAcceptAttrString, isFileEqual, isValidFileType, isValidFileSize, getFileEntries } from '@zag-js/file-utils';\nimport { formatBytes } from '@zag-js/i18n-utils';\nimport { createProps } from '@zag-js/types';\nimport { warn, callAll, createSplitProps, flatArray } from '@zag-js/utils';\nimport { createMachine } from '@zag-js/core';\n\n// src/file-upload.anatomy.ts\nvar anatomy = createAnatomy(\"file-upload\").parts(\n  \"root\",\n  \"dropzone\",\n  \"item\",\n  \"itemDeleteTrigger\",\n  \"itemGroup\",\n  \"itemName\",\n  \"itemPreview\",\n  \"itemPreviewImage\",\n  \"itemSizeText\",\n  \"label\",\n  \"trigger\",\n  \"clearTrigger\"\n);\nvar parts = anatomy.build();\n\n// src/file-upload.dom.ts\nvar getRootId = (ctx) => ctx.ids?.root ?? `file:${ctx.id}`;\nvar getDropzoneId = (ctx) => ctx.ids?.dropzone ?? `file:${ctx.id}:dropzone`;\nvar getHiddenInputId = (ctx) => ctx.ids?.hiddenInput ?? `file:${ctx.id}:input`;\nvar getTriggerId = (ctx) => ctx.ids?.trigger ?? `file:${ctx.id}:trigger`;\nvar getLabelId = (ctx) => ctx.ids?.label ?? `file:${ctx.id}:label`;\nvar getItemId = (ctx, id) => ctx.ids?.item?.(id) ?? `file:${ctx.id}:item:${id}`;\nvar getItemNameId = (ctx, id) => ctx.ids?.itemName?.(id) ?? `file:${ctx.id}:item-name:${id}`;\nvar getItemSizeTextId = (ctx, id) => ctx.ids?.itemSizeText?.(id) ?? `file:${ctx.id}:item-size:${id}`;\nvar getItemPreviewId = (ctx, id) => ctx.ids?.itemPreview?.(id) ?? `file:${ctx.id}:item-preview:${id}`;\nvar getRootEl = (ctx) => ctx.getById(getRootId(ctx));\nvar getHiddenInputEl = (ctx) => ctx.getById(getHiddenInputId(ctx));\nvar getDropzoneEl = (ctx) => ctx.getById(getDropzoneId(ctx));\nfunction isEventWithFiles(event) {\n  const target = getEventTarget(event);\n  if (!event.dataTransfer) return !!target && \"files\" in target;\n  return event.dataTransfer.types.some((type) => {\n    return type === \"Files\" || type === \"application/x-moz-file\";\n  });\n}\nfunction isFilesWithinRange(ctx, incomingCount, currentAcceptedFiles) {\n  const { prop, computed } = ctx;\n  if (!computed(\"multiple\") && incomingCount > 1) return false;\n  if (!computed(\"multiple\") && incomingCount + currentAcceptedFiles.length === 2) return true;\n  if (incomingCount + currentAcceptedFiles.length > prop(\"maxFiles\")) return false;\n  return true;\n}\nfunction getEventFiles(ctx, files, currentAcceptedFiles = [], currentRejectedFiles = []) {\n  const { prop, computed } = ctx;\n  const acceptedFiles = [];\n  const rejectedFiles = [];\n  const validateParams = {\n    acceptedFiles: currentAcceptedFiles,\n    rejectedFiles: currentRejectedFiles\n  };\n  files.forEach((file) => {\n    const [accepted, acceptError] = isValidFileType(file, computed(\"acceptAttr\"));\n    const [sizeMatch, sizeError] = isValidFileSize(file, prop(\"minFileSize\"), prop(\"maxFileSize\"));\n    const validateErrors = prop(\"validate\")?.(file, validateParams);\n    const valid = validateErrors ? validateErrors.length === 0 : true;\n    if (accepted && sizeMatch && valid) {\n      acceptedFiles.push(file);\n    } else {\n      const errors = [acceptError, sizeError];\n      if (!valid) errors.push(...validateErrors ?? []);\n      rejectedFiles.push({ file, errors: errors.filter(Boolean) });\n    }\n  });\n  if (!isFilesWithinRange(ctx, acceptedFiles.length, currentAcceptedFiles)) {\n    acceptedFiles.forEach((file) => {\n      rejectedFiles.push({ file, errors: [\"TOO_MANY_FILES\"] });\n    });\n    acceptedFiles.splice(0);\n  }\n  return {\n    acceptedFiles,\n    rejectedFiles\n  };\n}\nfunction setInputFiles(inputEl, files) {\n  const win = getWindow(inputEl);\n  try {\n    if (\"DataTransfer\" in win) {\n      const dataTransfer = new win.DataTransfer();\n      files.forEach((file) => {\n        dataTransfer.items.add(file);\n      });\n      inputEl.files = dataTransfer.files;\n    }\n  } catch {\n  }\n}\n\n// src/file-upload.connect.ts\nvar DEFAULT_ITEM_TYPE = \"accepted\";\nfunction connect(service, normalize) {\n  const { state, send, prop, computed, scope, context } = service;\n  const disabled = !!prop(\"disabled\");\n  const required = !!prop(\"required\");\n  const allowDrop = prop(\"allowDrop\");\n  const translations = prop(\"translations\");\n  const dragging = state.matches(\"dragging\");\n  const focused = state.matches(\"focused\") && !disabled;\n  return {\n    dragging,\n    focused,\n    disabled: !!disabled,\n    transforming: context.get(\"transforming\"),\n    openFilePicker() {\n      if (disabled) return;\n      send({ type: \"OPEN\" });\n    },\n    deleteFile(file, type = DEFAULT_ITEM_TYPE) {\n      send({ type: \"FILE.DELETE\", file, itemType: type });\n    },\n    acceptedFiles: context.get(\"acceptedFiles\"),\n    rejectedFiles: context.get(\"rejectedFiles\"),\n    setFiles(files) {\n      send({ type: \"FILES.SET\", files, count: files.length });\n    },\n    clearRejectedFiles() {\n      send({ type: \"REJECTED_FILES.CLEAR\" });\n    },\n    clearFiles() {\n      send({ type: \"FILES.CLEAR\" });\n    },\n    getFileSize(file) {\n      return formatBytes(file.size, prop(\"locale\"));\n    },\n    createFileUrl(file, cb) {\n      const win = scope.getWin();\n      const url = win.URL.createObjectURL(file);\n      cb(url);\n      return () => win.URL.revokeObjectURL(url);\n    },\n    setClipboardFiles(dt) {\n      if (disabled) return false;\n      const items = Array.from(dt?.items ?? []);\n      const files = items.reduce((acc, item) => {\n        if (item.kind !== \"file\") return acc;\n        const file = item.getAsFile();\n        if (!file) return acc;\n        return [...acc, file];\n      }, []);\n      if (!files.length) return false;\n      send({ type: \"FILES.SET\", files });\n      return true;\n    },\n    getRootProps() {\n      return normalize.element({\n        ...parts.root.attrs,\n        dir: prop(\"dir\"),\n        id: getRootId(scope),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging)\n      });\n    },\n    getDropzoneProps(props2 = {}) {\n      return normalize.element({\n        ...parts.dropzone.attrs,\n        dir: prop(\"dir\"),\n        id: getDropzoneId(scope),\n        tabIndex: disabled || props2.disableClick ? void 0 : 0,\n        role: props2.disableClick ? \"application\" : \"button\",\n        \"aria-label\": translations.dropzone,\n        \"aria-disabled\": disabled,\n        \"data-invalid\": dataAttr(prop(\"invalid\")),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-dragging\": dataAttr(dragging),\n        onKeyDown(event) {\n          if (disabled) return;\n          if (event.defaultPrevented) return;\n          if (event.currentTarget !== getEventTarget(event)) return;\n          if (props2.disableClick) return;\n          if (event.key !== \"Enter\" && event.key !== \" \") return;\n          send({ type: \"DROPZONE.CLICK\", src: \"keydown\" });\n        },\n        onClick(event) {\n          if (disabled) return;\n          if (event.defaultPrevented) return;\n          if (props2.disableClick) return;\n          if (event.currentTarget !== getEventTarget(event)) return;\n          if (event.currentTarget.localName === \"label\") {\n            event.preventDefault();\n          }\n          send({ type: \"DROPZONE.CLICK\" });\n        },\n        onDragOver(event) {\n          if (disabled) return;\n          if (!allowDrop) return;\n          event.preventDefault();\n          event.stopPropagation();\n          try {\n            event.dataTransfer.dropEffect = \"copy\";\n          } catch {\n          }\n          const hasFiles = isEventWithFiles(event);\n          if (!hasFiles) return;\n          const count = event.dataTransfer.items.length;\n          send({ type: \"DROPZONE.DRAG_OVER\", count });\n        },\n        onDragLeave(event) {\n          if (disabled) return;\n          if (!allowDrop) return;\n          if (contains(event.currentTarget, event.relatedTarget)) return;\n          send({ type: \"DROPZONE.DRAG_LEAVE\" });\n        },\n        onDrop(event) {\n          if (disabled) return;\n          if (allowDrop) {\n            event.preventDefault();\n            event.stopPropagation();\n          }\n          const hasFiles = isEventWithFiles(event);\n          if (disabled || !hasFiles) return;\n          getFileEntries(event.dataTransfer.items, prop(\"directory\")).then((files) => {\n            send({ type: \"DROPZONE.DROP\", files: flatArray(files) });\n          });\n        },\n        onFocus() {\n          if (disabled) return;\n          send({ type: \"DROPZONE.FOCUS\" });\n        },\n        onBlur() {\n          if (disabled) return;\n          send({ type: \"DROPZONE.BLUR\" });\n        }\n      });\n    },\n    getTriggerProps() {\n      return normalize.button({\n        ...parts.trigger.attrs,\n        dir: prop(\"dir\"),\n        id: getTriggerId(scope),\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-invalid\": dataAttr(prop(\"invalid\")),\n        type: \"button\",\n        onClick(event) {\n          if (disabled) return;\n          if (contains(getDropzoneEl(scope), event.currentTarget)) {\n            event.stopPropagation();\n          }\n          send({ type: \"OPEN\" });\n        }\n      });\n    },\n    getHiddenInputProps() {\n      return normalize.input({\n        id: getHiddenInputId(scope),\n        tabIndex: -1,\n        disabled,\n        type: \"file\",\n        required: prop(\"required\"),\n        capture: prop(\"capture\"),\n        name: prop(\"name\"),\n        accept: computed(\"acceptAttr\"),\n        webkitdirectory: prop(\"directory\") ? \"\" : void 0,\n        multiple: computed(\"multiple\") || prop(\"maxFiles\") > 1,\n        onClick(event) {\n          event.stopPropagation();\n          event.currentTarget.value = \"\";\n        },\n        onInput(event) {\n          if (disabled) return;\n          const { files } = event.currentTarget;\n          send({ type: \"FILE.SELECT\", files: files ? Array.from(files) : [] });\n        },\n        style: visuallyHiddenStyle\n      });\n    },\n    getItemGroupProps(props2 = {}) {\n      const { type = DEFAULT_ITEM_TYPE } = props2;\n      return normalize.element({\n        ...parts.itemGroup.attrs,\n        dir: prop(\"dir\"),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemProps(props2) {\n      const { file, type = DEFAULT_ITEM_TYPE } = props2;\n      return normalize.element({\n        ...parts.item.attrs,\n        dir: prop(\"dir\"),\n        id: getItemId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemNameProps(props2) {\n      const { file, type = DEFAULT_ITEM_TYPE } = props2;\n      return normalize.element({\n        ...parts.itemName.attrs,\n        dir: prop(\"dir\"),\n        id: getItemNameId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemSizeTextProps(props2) {\n      const { file, type = DEFAULT_ITEM_TYPE } = props2;\n      return normalize.element({\n        ...parts.itemSizeText.attrs,\n        dir: prop(\"dir\"),\n        id: getItemSizeTextId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemPreviewProps(props2) {\n      const { file, type = DEFAULT_ITEM_TYPE } = props2;\n      return normalize.element({\n        ...parts.itemPreview.attrs,\n        dir: prop(\"dir\"),\n        id: getItemPreviewId(scope, file.name),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemPreviewImageProps(props2) {\n      const { file, url, type = DEFAULT_ITEM_TYPE } = props2;\n      const isImage = file.type.startsWith(\"image/\");\n      if (!isImage) {\n        throw new Error(\"Preview Image is only supported for image files\");\n      }\n      return normalize.img({\n        ...parts.itemPreviewImage.attrs,\n        alt: translations.itemPreview?.(file),\n        src: url,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type\n      });\n    },\n    getItemDeleteTriggerProps(props2) {\n      const { file, type = DEFAULT_ITEM_TYPE } = props2;\n      return normalize.button({\n        ...parts.itemDeleteTrigger.attrs,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        disabled,\n        \"data-disabled\": dataAttr(disabled),\n        \"data-type\": type,\n        \"aria-label\": translations.deleteFile?.(file),\n        onClick() {\n          if (disabled) return;\n          send({ type: \"FILE.DELETE\", file, itemType: type });\n        }\n      });\n    },\n    getLabelProps() {\n      return normalize.label({\n        ...parts.label.attrs,\n        dir: prop(\"dir\"),\n        id: getLabelId(scope),\n        htmlFor: getHiddenInputId(scope),\n        \"data-disabled\": dataAttr(disabled),\n        \"data-required\": dataAttr(required)\n      });\n    },\n    getClearTriggerProps() {\n      return normalize.button({\n        ...parts.clearTrigger.attrs,\n        dir: prop(\"dir\"),\n        type: \"button\",\n        disabled,\n        hidden: context.get(\"acceptedFiles\").length === 0,\n        \"data-disabled\": dataAttr(disabled),\n        onClick(event) {\n          if (event.defaultPrevented) return;\n          if (disabled) return;\n          send({ type: \"FILES.CLEAR\" });\n        }\n      });\n    }\n  };\n}\nvar machine = createMachine({\n  props({ props: props2 }) {\n    return {\n      minFileSize: 0,\n      maxFileSize: Number.POSITIVE_INFINITY,\n      maxFiles: 1,\n      allowDrop: true,\n      preventDocumentDrop: true,\n      defaultAcceptedFiles: [],\n      ...props2,\n      translations: {\n        dropzone: \"dropzone\",\n        itemPreview: (file) => `preview of ${file.name}`,\n        deleteFile: (file) => `delete file ${file.name}`,\n        ...props2.translations\n      }\n    };\n  },\n  initialState() {\n    return \"idle\";\n  },\n  context({ prop, bindable, getContext }) {\n    return {\n      acceptedFiles: bindable(() => ({\n        defaultValue: prop(\"defaultAcceptedFiles\"),\n        value: prop(\"acceptedFiles\"),\n        isEqual: (a, b) => a.length === b?.length && a.every((file, i) => isFileEqual(file, b[i])),\n        hash(value) {\n          return value.map((file) => `${file.name}-${file.size}`).join(\",\");\n        },\n        onChange(value) {\n          const ctx = getContext();\n          prop(\"onFileAccept\")?.({ files: value });\n          prop(\"onFileChange\")?.({ acceptedFiles: value, rejectedFiles: ctx.get(\"rejectedFiles\") });\n        }\n      })),\n      rejectedFiles: bindable(() => ({\n        defaultValue: [],\n        isEqual: (a, b) => a.length === b?.length && a.every((file, i) => isFileEqual(file.file, b[i].file)),\n        onChange(value) {\n          const ctx = getContext();\n          prop(\"onFileReject\")?.({ files: value });\n          prop(\"onFileChange\")?.({ acceptedFiles: ctx.get(\"acceptedFiles\"), rejectedFiles: value });\n        }\n      })),\n      transforming: bindable(() => ({\n        defaultValue: false\n      }))\n    };\n  },\n  computed: {\n    acceptAttr: ({ prop }) => getAcceptAttrString(prop(\"accept\")),\n    multiple: ({ prop }) => prop(\"maxFiles\") > 1\n  },\n  watch({ track, context, action }) {\n    track([() => context.hash(\"acceptedFiles\")], () => {\n      action([\"syncInputElement\"]);\n    });\n  },\n  on: {\n    \"FILES.SET\": {\n      actions: [\"setFiles\"]\n    },\n    \"FILE.SELECT\": {\n      actions: [\"setEventFiles\"]\n    },\n    \"FILE.DELETE\": {\n      actions: [\"removeFile\"]\n    },\n    \"FILES.CLEAR\": {\n      actions: [\"clearFiles\"]\n    },\n    \"REJECTED_FILES.CLEAR\": {\n      actions: [\"clearRejectedFiles\"]\n    }\n  },\n  effects: [\"preventDocumentDrop\"],\n  states: {\n    idle: {\n      on: {\n        OPEN: {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.CLICK\": {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.FOCUS\": {\n          target: \"focused\"\n        },\n        \"DROPZONE.DRAG_OVER\": {\n          target: \"dragging\"\n        }\n      }\n    },\n    focused: {\n      on: {\n        \"DROPZONE.BLUR\": {\n          target: \"idle\"\n        },\n        OPEN: {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.CLICK\": {\n          actions: [\"openFilePicker\"]\n        },\n        \"DROPZONE.DRAG_OVER\": {\n          target: \"dragging\"\n        }\n      }\n    },\n    dragging: {\n      on: {\n        \"DROPZONE.DROP\": {\n          target: \"idle\",\n          actions: [\"setEventFiles\"]\n        },\n        \"DROPZONE.DRAG_LEAVE\": {\n          target: \"idle\"\n        }\n      }\n    }\n  },\n  implementations: {\n    effects: {\n      preventDocumentDrop({ prop, scope }) {\n        if (!prop(\"preventDocumentDrop\")) return;\n        if (!prop(\"allowDrop\")) return;\n        if (prop(\"disabled\")) return;\n        const doc = scope.getDoc();\n        const onDragOver = (event) => {\n          event?.preventDefault();\n        };\n        const onDrop = (event) => {\n          if (contains(getRootEl(scope), getEventTarget(event))) return;\n          event.preventDefault();\n        };\n        return callAll(addDomEvent(doc, \"dragover\", onDragOver, false), addDomEvent(doc, \"drop\", onDrop, false));\n      }\n    },\n    actions: {\n      syncInputElement({ scope, context }) {\n        queueMicrotask(() => {\n          const inputEl = getHiddenInputEl(scope);\n          if (!inputEl) return;\n          setInputFiles(inputEl, context.get(\"acceptedFiles\"));\n          const win = scope.getWin();\n          inputEl.dispatchEvent(new win.Event(\"change\", { bubbles: true }));\n        });\n      },\n      openFilePicker({ scope }) {\n        raf(() => {\n          getHiddenInputEl(scope)?.click();\n        });\n      },\n      setFiles(params) {\n        const { computed, context, event } = params;\n        const { acceptedFiles, rejectedFiles } = getEventFiles(params, event.files);\n        context.set(\n          \"acceptedFiles\",\n          computed(\"multiple\") ? acceptedFiles : acceptedFiles.length > 0 ? [acceptedFiles[0]] : []\n        );\n        context.set(\"rejectedFiles\", rejectedFiles);\n      },\n      setEventFiles(params) {\n        const { computed, context, event, prop } = params;\n        const currentAcceptedFiles = context.get(\"acceptedFiles\");\n        const currentRejectedFiles = context.get(\"rejectedFiles\");\n        const { acceptedFiles, rejectedFiles } = getEventFiles(\n          params,\n          event.files,\n          currentAcceptedFiles,\n          currentRejectedFiles\n        );\n        const set = (files) => {\n          if (computed(\"multiple\")) {\n            context.set(\"acceptedFiles\", (prev) => [...prev, ...files]);\n            context.set(\"rejectedFiles\", rejectedFiles);\n            return;\n          }\n          if (files.length) {\n            context.set(\"acceptedFiles\", [files[0]]);\n            context.set(\"rejectedFiles\", rejectedFiles);\n            return;\n          }\n          if (rejectedFiles.length) {\n            context.set(\"acceptedFiles\", context.get(\"acceptedFiles\"));\n            context.set(\"rejectedFiles\", rejectedFiles);\n          }\n        };\n        const transform = prop(\"transformFiles\");\n        if (transform) {\n          context.set(\"transforming\", true);\n          transform(acceptedFiles).then(set).catch((err) => {\n            warn(`[zag-js/file-upload] error transforming files\n${err}`);\n          }).finally(() => {\n            context.set(\"transforming\", false);\n          });\n        } else {\n          set(acceptedFiles);\n        }\n      },\n      removeFile({ context, event }) {\n        if (event.itemType === \"rejected\") {\n          const rejectedFiles = context.get(\"rejectedFiles\").filter((item) => !isFileEqual(item.file, event.file));\n          context.set(\"rejectedFiles\", rejectedFiles);\n        } else {\n          const files = context.get(\"acceptedFiles\").filter((file) => !isFileEqual(file, event.file));\n          context.set(\"acceptedFiles\", files);\n        }\n      },\n      clearRejectedFiles({ context }) {\n        context.set(\"rejectedFiles\", []);\n      },\n      clearFiles({ context }) {\n        context.set(\"acceptedFiles\", []);\n        context.set(\"rejectedFiles\", []);\n      }\n    }\n  }\n});\nvar props = createProps()([\n  \"accept\",\n  \"acceptedFiles\",\n  \"allowDrop\",\n  \"capture\",\n  \"defaultAcceptedFiles\",\n  \"dir\",\n  \"directory\",\n  \"disabled\",\n  \"getRootNode\",\n  \"id\",\n  \"ids\",\n  \"invalid\",\n  \"locale\",\n  \"maxFiles\",\n  \"maxFileSize\",\n  \"minFileSize\",\n  \"name\",\n  \"onFileAccept\",\n  \"onFileChange\",\n  \"onFileReject\",\n  \"preventDocumentDrop\",\n  \"required\",\n  \"transformFiles\",\n  \"translations\",\n  \"validate\"\n]);\nvar splitProps = createSplitProps(props);\nvar itemProps = createProps()([\"file\", \"type\"]);\nvar splitItemProps = createSplitProps(itemProps);\n\nexport { anatomy, connect, itemProps, machine, props, splitItemProps, splitProps };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}